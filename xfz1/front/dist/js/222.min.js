function Banners(){}Banners.prototype.loadBanner=function(){var o=this;xfzajax.get({url:"/cms/banner_list/",success:function(n){if(200===n.code)for(var a=n.data,e=0;e<a.length;e++){var t=a[e],r=template("banner-item",{banner:t}),i=$(".banner-list-group");i.append(r);var s=i.find(".banner-group:last");s.attr("data-banner-id",t.id),o.imageSelect(s),o.deleteBanner(s),o.saveBanner(s)}}})},Banners.prototype.addBannerEvent=function(){var t=this;$("#add-banner-btn").click(function(){var n=template("banner-item"),a=$(".banner-list-group");if(5<a.children().length)window.messageBox.showError("最多只能添加6张轮播图");else{a.prepend(n);var e=a.find(".banner-group:first");t.imageSelect(e),t.deleteBanner(e),t.saveBanner(e)}})},Banners.prototype.imageSelect=function(n){var e=n.find("img[class=thumbnail]"),a=e.siblings("input");e.click(function(){a.click()}),a.change(function(){var n=this.files[0],a=new FormData;a.append("file",n),xfzajax.post({url:"/cms/upload_file/",processData:!1,contentType:!1,data:a,success:function(n){if(200===n.code){var a=n.data.url;e.attr("src",a)}}})})},Banners.prototype.deleteBanner=function(a){a.find("#close-btn").click(function(){var n=a.attr("data-banner-id");n?xfzalert.alertConfirm({title:"确定要删除吗？",confirmCallback:function(){xfzajax.post({url:"/cms/del_banner/",data:{banner_id:n},success:function(n){200===n.code&&a.remove()}})}}):a.remove()})},Banners.prototype.saveBanner=function(i){i.find(".save_btn").click(function(){var e=i.find("span[class='priority']"),n=i.attr("data-banner-id"),t=i.find("input[name='priority']").val(),a=i.find("img[class='thumbnail']").attr("src"),r=i.find("input[name='link_to']").val();n?xfzajax.post({url:"/cms/edit_banner/",data:{pk:n,priority:t,image_url:a,link_to:r},success:function(n){200===n.code&&(window.messageBox.showSuccess("修改成功"),e.text("优先级："+t))}}):xfzajax.post({url:"/cms/add_banner/",data:{priority:t,image_url:a,link_to:r},success:function(n){if(200===n.code){var a=n.data.banner_id;i.attr("data-banner-id",a),e.text("优先级："+t),window.messageBox.showSuccess("保存成功")}}})})},Banners.prototype.run=function(){this.addBannerEvent(),this.loadBanner()},$(function(){(new Banners).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjIyMi5qcyJdLCJuYW1lcyI6WyJCYW5uZXJzIiwicHJvdG90eXBlIiwibG9hZEJhbm5lciIsInNlbGYiLCJ0aGlzIiwieGZ6YWpheCIsImdldCIsInVybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJiYW5uZXJzIiwiaSIsImxlbmd0aCIsImJhbm5lciIsInRwbCIsInRlbXBsYXRlIiwiYmFubmVyTGlzdEdyb3VwIiwiJCIsImFwcGVuZCIsImJhbm5lckl0ZW0iLCJmaW5kIiwiYXR0ciIsImlkIiwiaW1hZ2VTZWxlY3QiLCJkZWxldGVCYW5uZXIiLCJzYXZlQmFubmVyIiwiYWRkQmFubmVyRXZlbnQiLCJjbGljayIsImNoaWxkcmVuIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dFcnJvciIsInByZXBlbmQiLCJpbWFnZSIsImltYWdlSW5wdXQiLCJzaWJsaW5ncyIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJwb3N0IiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsImRhdGEiLCJiYW5uZXJJZCIsInhmemFsZXJ0IiwiYWxlcnRDb25maXJtIiwidGl0bGUiLCJjb25maXJtQ2FsbGJhY2siLCJiYW5uZXJfaWQiLCJyZW1vdmUiLCJwcmlvcml0eVNwYW4iLCJwcmlvcml0eSIsInZhbCIsImltYWdlX3VybCIsImxpbmtfdG8iLCJwayIsInNob3dTdWNjZXNzIiwidGV4dCIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FJVEEsUUFBUUMsVUFBVUMsV0FBYSxXQUMzQixJQUFJQyxFQUFPQyxLQUNYQyxRQUFRQyxJQUFJLENBQ1JDLElBQU8sb0JBQ1BDLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FFYixJQURBLElBQUlDLEVBQVVELEVBQWEsS0FDbEJFLEVBQUksRUFBR0EsRUFBSUQsRUFBUUUsT0FBUUQsSUFBSyxDQUNyQyxJQUFJRSxFQUFTSCxFQUFRQyxHQUNqQkcsRUFBTUMsU0FB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RE10QixLQUVORixjQUdUZSxFQUFFLFlBQ2dCLElBQUlqQixTQUNWNEQiLCJmaWxlIjoiMjIyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEJhbm5lcnMoKSB7XHJcblxyXG59XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5sb2FkQmFubmVyID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAndXJsJzogJy9jbXMvYmFubmVyX2xpc3QvJyxcclxuICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhbm5lcnMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFubmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYW5uZXIgPSBiYW5uZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnYmFubmVyLWl0ZW0nLCB7J2Jhbm5lcic6IGJhbm5lcn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYW5uZXJMaXN0R3JvdXAgPSAkKCcuYmFubmVyLWxpc3QtZ3JvdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICBiYW5uZXJMaXN0R3JvdXAuYXBwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhbm5lckl0ZW0gPSBiYW5uZXJMaXN0R3JvdXAuZmluZChcIi5iYW5uZXItZ3JvdXA6bGFzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBiYW5uZXJJdGVtLmF0dHIoJ2RhdGEtYmFubmVyLWlkJywgYmFubmVyLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmltYWdlU2VsZWN0KGJhbm5lckl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlQmFubmVyKGJhbm5lckl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZUJhbm5lcihiYW5uZXJJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5hZGRCYW5uZXJFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYWRkQnRuID0gJCgnI2FkZC1iYW5uZXItYnRuJyk7XHJcbiAgICBhZGRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnYmFubmVyLWl0ZW0nKTtcclxuICAgICAgICB2YXIgYmFubmVyTGlzdEdyb3VwID0gJCgnLmJhbm5lci1saXN0LWdyb3VwJyk7XHJcbiAgICAgICAgdmFyIGJhbm5lckl0ZW1zID0gYmFubmVyTGlzdEdyb3VwLmNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKGJhbm5lckl0ZW1zLmxlbmd0aCA+IDUpe1xyXG4gICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoJ+acgOWkmuWPquiDvea3u+WKoDblvKDova7mkq3lm74nKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGJhbm5lckxpc3RHcm91cC5wcmVwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgIHZhciBiYW5uZXJJdGVtID0gYmFubmVyTGlzdEdyb3VwLmZpbmQoJy5iYW5uZXItZ3JvdXA6Zmlyc3QnKTtcclxuICAgICAgICAgICAgc2VsZi5pbWFnZVNlbGVjdChiYW5uZXJJdGVtKTtcclxuICAgICAgICAgICAgc2VsZi5kZWxldGVCYW5uZXIoYmFubmVySXRlbSk7XHJcbiAgICAgICAgICAgIHNlbGYuc2F2ZUJhbm5lcihiYW5uZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59O1xyXG5cclxuQmFubmVycy5wcm90b3R5cGUuaW1hZ2VTZWxlY3QgPSBmdW5jdGlvbihiYW5uZXJJdGVtKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBpbWFnZSA9IGJhbm5lckl0ZW0uZmluZChcImltZ1tjbGFzcz10aHVtYm5haWxdXCIpO1xyXG4gICAgdmFyIGltYWdlSW5wdXQgPSBpbWFnZS5zaWJsaW5ncygnaW5wdXQnKTtcclxuICAgIGltYWdlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbWFnZUlucHV0LmNsaWNrKCk7XHJcbiAgICB9KTtcclxuICAgIGltYWdlSW5wdXQuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY21zL3VwbG9hZF9maWxlLycsXHJcbiAgICAgICAgICAgICdwcm9jZXNzRGF0YSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVycy5wcm90b3R5cGUuZGVsZXRlQmFubmVyID0gZnVuY3Rpb24oYmFubmVySXRlbSl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgY2xvc2VCdG4gPSBiYW5uZXJJdGVtLmZpbmQoXCIjY2xvc2UtYnRuXCIpO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBiYW5uZXJJZCA9IGJhbm5lckl0ZW0uYXR0cignZGF0YS1iYW5uZXItaWQnKTtcclxuICAgICAgICBpZiAoYmFubmVySWQpIHtcclxuICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6ICfnoa7lrpropoHliKDpmaTlkJfvvJ8nLFxyXG4gICAgICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9jbXMvZGVsX2Jhbm5lci8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiYW5uZXJfaWQnOiBiYW5uZXJJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5uZXJJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGJhbm5lckl0ZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5zYXZlQmFubmVyID0gZnVuY3Rpb24oYmFubmVySXRlbSl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2F2ZUJ0biA9IGJhbm5lckl0ZW0uZmluZChcIi5zYXZlX2J0blwiKTtcclxuICAgIHNhdmVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcmlvcml0eVNwYW4gPSBiYW5uZXJJdGVtLmZpbmQoXCJzcGFuW2NsYXNzPSdwcmlvcml0eSddXCIpO1xyXG4gICAgICAgIHZhciBiYW5uZXJJZCA9IGJhbm5lckl0ZW0uYXR0cignZGF0YS1iYW5uZXItaWQnKTtcclxuICAgICAgICB2YXIgcHJpb3JpdHkgPSBiYW5uZXJJdGVtLmZpbmQoXCJpbnB1dFtuYW1lPSdwcmlvcml0eSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBpbWFnZV91cmwgPSBiYW5uZXJJdGVtLmZpbmQoXCJpbWdbY2xhc3M9J3RodW1ibmFpbCddXCIpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgIHZhciBsaW5rX3RvID0gYmFubmVySXRlbS5maW5kKFwiaW5wdXRbbmFtZT0nbGlua190byddXCIpLnZhbCgpO1xyXG4gICAgICAgIGlmIChiYW5uZXJJZCl7XHJcbiAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogJy9jbXMvZWRpdF9iYW5uZXIvJyxcclxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwayc6IGJhbm5lcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICdwcmlvcml0eSc6IHByaW9yaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICdpbWFnZV91cmwnOiBpbWFnZV91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xpbmtfdG8nOiBsaW5rX3RvXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5U3Bhbi50ZXh0KCfkvJjlhYjnuqfvvJonICsgcHJpb3JpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2FkZF9iYW5uZXIvJyxcclxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcmlvcml0eSc6IHByaW9yaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICdpbWFnZV91cmwnOiBpbWFnZV91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xpbmtfdG8nOiBsaW5rX3RvXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhbm5lcklkID0gcmVzdWx0WydkYXRhJ11bJ2Jhbm5lcl9pZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5uZXJJdGVtLmF0dHIoJ2RhdGEtYmFubmVyLWlkJywgYmFubmVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVNwYW4udGV4dCgn5LyY5YWI57qn77yaJyArIHByaW9yaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkJhbm5lcnMucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuYWRkQmFubmVyRXZlbnQoKTtcclxuICAgIHNlbGYubG9hZEJhbm5lcigpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFubmVycyA9IG5ldyBCYW5uZXJzKCk7XHJcbiAgICBiYW5uZXJzLnJ1bigpO1xyXG59KTsiXX0=
