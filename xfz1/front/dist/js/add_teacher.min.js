function AddTeacher(){}AddTeacher.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{serverUrl:"/ueditor/upload/"})},AddTeacher.prototype.uploadEvent=function(){$("#avatar-btn").change(function(){var t=this.files[0],e=new FormData;e.append("file",t),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(t){if(200===t.code){var e=t.data.url;$("input[name='avatar']").val(e)}}})})},AddTeacher.prototype.submitEvent=function(){$(".submit-btn").click(function(){var t=$("input[name='username']").val(),e=$("input[name='jobtitle']").val(),a=$("input[name='avatar']").val(),n=ue.getContent();xfzajax.post({url:"/cms/add_teacher/",data:{username:t,jobtitle:e,avatar:a,profile:n},success:function(t){200===t.code&&(window.xfzalert.alertSuccess("添加成功"),window.location.reload())}})})},AddTeacher.prototype.run=function(){var t=this;t.initUEditor(),t.uploadEvent(),t.submitEvent()},$(function(){(new AddTeacher).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZF90ZWFjaGVyLmpzIl0sIm5hbWVzIjpbIkFkZFRlYWNoZXIiLCJwcm90b3R5cGUiLCJpbml0VUVkaXRvciIsIndpbmRvdyIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJzZXJ2ZXJVcmwiLCJ1cGxvYWRFdmVudCIsIiQiLCJjaGFuZ2UiLCJmaWxlIiwidGhpcyIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwidmFsIiwic3VibWl0RXZlbnQiLCJjbGljayIsInVzZXJuYW1lIiwiam9idGl0bGUiLCJhdmF0YXIiLCJwcm9maWxlIiwiZ2V0Q29udGVudCIsInhmemFsZXJ0IiwiYWxlcnRTdWNjZXNzIiwibG9jYXRpb24iLCJyZWxvYWQiLCJydW4iLCJzZWxmIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxjQUlUQSxXQUFXQyxVQUFVQyxZQUFjLFdBQy9CQyxPQUFPQyxHQUFLQyxHQUFHQyxVQUFVLFNBQVUsQ0FDL0JDLFVBQWEsc0JBSXJCUCxXQUFXQyxVQUFVTyxZQUFjLFdBQ2ZDLEVBQUUsZUFDUkMsT0FBTyxXQUNiLElBQUlDLEVBQU9DLEtBQUtDLE1BQU0sR0FDbEJDLEVBQVcsSUFBSUMsU0FDbkJELEVBQVNFLE9BQU8sT0FBUUwsR0FDeEJNLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBUU4sRUFDUk8sYUFBZSxFQUNmQyxhQUFlLEVBQ2ZDLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVSxDQUN2QixJQUFJTCxFQUFNSyxFQUFhLEtBQU8sSUFDOUJmLEVBQUUsd0JBQXdCZ0IsSUFBSU4sVUFPbERuQixXQUFXQyxVQUFVeUIsWUFBYyxXQUNmakIsRUFBRSxlQUNSa0IsTUFBTSxXQUNaLElBQUlDLEVBQVduQixFQUFFLDBCQUEwQmdCLE1BQ3ZDSSxFQUFXcEIsRUFBRSwwQkFBMEJnQixNQUN2Q0ssRUFBU3JCLEVBQUUsd0JBQXdCZ0IsTUFDbkNNLEVBQVUzQixHQUFHNEIsYUFFakJmLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBUSxDQUNKUSxTQUFZQSxFQUNaQyxTQUFZQSxFQUNaQyxPQUFVQSxFQUNWQyxRQUFXQSxHQUVmUixRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsT0FDYnJCLE9BQU84QixTQUFTQyxhQUFhLFFBQzdCL0IsT0FBT2dDLFNBQVNDLGdCQU9wQ3BDLFdBQVdDLFVBQVVvQyxJQUFNLFdBQ3ZCLElBQUlDLEVBQU8xQixLQUNYMEIsRUFBS3BDLGNBQ0xvQyxFQUFLOUIsY0FDTDhCLEVBQUtaLGVBR1RqQixFQUFFLFlBQ2dCLElBQUlULFlBQ1ZxQyIsImZpbGUiOiJhZGRfdGVhY2hlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gQWRkVGVhY2hlcigpIHtcclxuXHJcbn1cclxuXHJcbkFkZFRlYWNoZXIucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJywge1xyXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLydcclxuICAgIH0pXHJcbn07XHJcblxyXG5BZGRUZWFjaGVyLnByb3RvdHlwZS51cGxvYWRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgdXBsb2FkQnRuID0gJCgnI2F2YXRhci1idG4nKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dFtuYW1lPSdhdmF0YXInXVwiKS52YWwodXJsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5BZGRUZWFjaGVyLnByb3RvdHlwZS5zdWJtaXRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHVzZXJuYW1lID0gJChcImlucHV0W25hbWU9J3VzZXJuYW1lJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGpvYnRpdGxlID0gJChcImlucHV0W25hbWU9J2pvYnRpdGxlJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGF2YXRhciA9ICQoXCJpbnB1dFtuYW1lPSdhdmF0YXInXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgcHJvZmlsZSA9IHVlLmdldENvbnRlbnQoKTtcclxuXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY21zL2FkZF90ZWFjaGVyLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAnam9idGl0bGUnOiBqb2J0aXRsZSxcclxuICAgICAgICAgICAgICAgICdhdmF0YXInOiBhdmF0YXIsXHJcbiAgICAgICAgICAgICAgICAncHJvZmlsZSc6IHByb2ZpbGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5re75Yqg5oiQ5YqfJylcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbkFkZFRlYWNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdFVFZGl0b3IoKTtcclxuICAgIHNlbGYudXBsb2FkRXZlbnQoKTtcclxuICAgIHNlbGYuc3VibWl0RXZlbnQoKTtcclxufVxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGVhY2hlciA9IG5ldyBBZGRUZWFjaGVyKCk7XHJcbiAgICB0ZWFjaGVyLnJ1bigpO1xyXG59KSJdfQ==
