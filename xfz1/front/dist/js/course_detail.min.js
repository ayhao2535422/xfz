function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"fa2c9444fd024eb2a790985caeabc30a"});a.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t},success:function(e){if(200===e.code){var t=e.data.token;a.setToken(o.file,t)}else alert("token错误！")},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9VcmwiLCJhdHRyIiwiY292ZXJVcmwiLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJhbGVydCIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxnQkFJVEEsYUFBYUMsVUFBVUMsV0FBYSxXQUNoQyxJQUFJQyxFQUFnQkMsRUFBRSxlQUNsQkMsRUFBV0YsRUFBY0csS0FBSyxrQkFDOUJDLEVBQVdKLEVBQWNHLEtBQUssa0JBQzlCRSxFQUFTQyxZQUFZLG1CQUFtQkMsTUFBTSxDQUM5Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1SLEVBQ05TLE1BQU9QLEVBQ1BRLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBR1JiLEVBQU9jLEdBQUcsYUFBYyxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUduQlksUUFBUUMsSUFBSSxDQUVSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN4QixHQUVieUIsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFNbUIsUUFFeEJFLE1BQU0sYUFHZEMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQU01QnBDLGFBQWFDLFVBQVVzQyxJQUFNLFdBQ2RDLEtBQ050QyxjQUdURSxFQUFFLFlBQ3FCLElBQUlKLGNBQ1Z1QyIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5mdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcblxyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoJyN2aWRlby1pbmZvJyk7XHJcbiAgICB2YXIgdmlkZW9VcmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtdmlkZW8tdXJsJyk7XHJcbiAgICB2YXIgY292ZXJVcmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY292ZXItdXJsJyk7XHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgZmlsZTogdmlkZW9VcmwsXHJcbiAgICAgICAgaW1hZ2U6IGNvdmVyVXJsLFxyXG4gICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICB0b2tlbkVuY3J5cHQ6IHRydWUsXHJcbiAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgYWs6ICdmYTJjOTQ0NGZkMDI0ZWIyYTc5MDk4NWNhZWFiYzMwYSdcclxuICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCEvbTN1OC8udGVzdChlLmZpbGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAvLyDojrflj5Z0b2tlbueahHVybFxyXG4gICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9VcmxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ3Rva2Vu6ZSZ6K+v77yBJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmYWlsJzogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluaXRQbGF5ZXIoKTtcclxufVxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KSJdfQ==
