function PublishNews(){}PublishNews.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},PublishNews.prototype.change=function(){$("#thumbnail_btn").change(function(){var e=this.files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("#thumbnail-form").val(t)}}})})},PublishNews.prototype.listenQiniuUploadEvent=function(){var s=this;$("#thumbnail_btn").change(function(){var a=this.files[0];xfzajax.get({url:"/cms/qiniutoken/",success:function(e){if(200===e.code){var t=e.data.token,n=(new Date).getTime()+"."+a.name.split(".")[1],i={fname:n,params:{},mimeType:["image/png","image/jpeg","image/gif"]},o={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(a,n,t,i,o).subscribe({next:s.handlerUploadProgress,error:s.handlerUploadError,complete:s.handlerUploadComplete})}}})})},PublishNews.prototype.handlerUploadComplete=function(e){var t=$("#progress-group"),n=$(".progress-bar"),i=$("#thumbnail-form"),o="http://qa7m1cg3t.bkt.clouddn.com/"+e.key;t.hide(),n.css({width:0}),i.val(o)},PublishNews.prototype.handlerUploadError=function(e){window.messageBox.showError(e.message),console.log(e.message)},PublishNews.prototype.handlerUploadProgress=function(e){var t=e.total.percent;$("#progress-group").show();var n=$(".progress-bar");n.css({width:t.toFixed(0)+"%"}),n.text(t.toFixed(0)+"%")},PublishNews.prototype.listenSubmitEvent=function(){var l=$("#submit_btn");l.click(function(e){e.preventDefault();var t=$("input[name='title']").val(),n=$("select[name='category']").val(),i=$("input[name='desc']").val(),o=$("input[name='thumbnail']").val(),a=window.ue.getContent(),s=l.attr("data-news-id"),r="";r=s?"/cms/edit_news/":"/cms/publish/",xfzajax.post({url:r,data:{title:t,category:n,desc:i,thumbnail:o,content:a,pk:s},success:function(e){200===e.code&&xfzalert.alertSuccess("新闻发布成功！",function(){window.location.reload()})}})})},PublishNews.prototype.run=function(){var e=this;e.listenQiniuUploadEvent(),e.initUEditor(),e.listenSubmitEvent(),e.change()},$(function(){(new PublishNews).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1Ymxpc2hfbmV3cy5qcyJdLCJuYW1lcyI6WyJQdWJsaXNoTmV3cyIsInByb3RvdHlwZSIsImluaXRVRWRpdG9yIiwid2luZG93IiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsImNoYW5nZSIsIiQiLCJmaWxlIiwidGhpcyIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwidmFsIiwibGlzdGVuUWluaXVVcGxvYWRFdmVudCIsInNlbGYiLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlclVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJoYW5kbGVyVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZXJVcGxvYWRDb21wbGV0ZSIsInJlc3BvbnNlIiwicHJvZ3Jlc3NHcm91cCIsInByb2dyZXNzQmFyIiwidGh1bWJuYWlsSW5wdXQiLCJoaWRlIiwiY3NzIiwid2lkdGgiLCJtZXNzYWdlQm94Iiwic2hvd0Vycm9yIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJwZXJjZW50IiwidG90YWwiLCJzaG93IiwidG9GaXhlZCIsInRleHQiLCJsaXN0ZW5TdWJtaXRFdmVudCIsInN1Ym1pdEJ0biIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsImdldENvbnRlbnQiLCJwayIsImF0dHIiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwicmVsb2FkIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxlQUlUQSxZQUFZQyxVQUFVQyxZQUFjLFdBRWhDQyxPQUFPQyxHQUFLQyxHQUFHQyxVQUFVLFNBQVUsQ0FDL0JDLG1CQUFzQixJQUN0QkMsVUFBYSxzQkFJckJSLFlBQVlDLFVBQVVRLE9BQVMsV0FFUkMsRUFBRSxrQkFDUkQsT0FBTyxXQUNoQixJQUFJRSxFQUFPQyxLQUFLQyxNQUFNLEdBQ2xCQyxFQUFXLElBQUlDLFNBQ25CRCxFQUFTRSxPQUFPLE9BQVFMLEdBQ3hCTSxRQUFRQyxLQUFLLENBQ1RDLElBQU8sb0JBQ1BDLEtBQVFOLEVBQ1JPLGFBQWUsRUFDZkMsYUFBZSxFQUNmQyxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdkIsSUFBSUwsRUFBTUssRUFBYSxLQUFPLElBQ1ZkLEVBQUUsbUJBQ1JlLElBQUlOLFVBT3RDbkIsWUFBWUMsVUFBVXlCLHVCQUF5QixXQUMzQyxJQUFJQyxFQUFPZixLQUNRRixFQUFFLGtCQUNSRCxPQUFPLFdBQ2hCLElBQUlFLEVBQU9DLEtBQUtDLE1BQU0sR0FDdEJJLFFBQVFXLElBQUksQ0FDUlQsSUFBTyxtQkFDUEksUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFVLENBQ3ZCLElBQUlLLEVBQVFMLEVBQWEsS0FBUyxNQUM5Qk0sR0FBTyxJQUFJQyxNQUFPQyxVQUFZLElBQU1yQixFQUFLc0IsS0FBS0MsTUFBTSxLQUFLLEdBQ3pEQyxFQUFXLENBQ1hDLE1BQU9OLEVBQ1BPLE9BQVEsR0FDUkMsU0FBVSxDQUFDLFlBQWEsYUFBYyxjQUV0Q0MsRUFBUyxDQUNUQyxjQUFjLEVBQ2RDLFdBQVksRUFDWkMsT0FBUUMsTUFBTUQsT0FBT0UsSUFFUkQsTUFBTUUsT0FBT2xDLEVBQU1tQixFQUFLRCxFQUFPTSxFQUFVSSxHQUMvQ08sVUFBVSxDQUNqQkMsS0FBUXBCLEVBQUtxQixzQkFDYkMsTUFBU3RCLEVBQUt1QixtQkFDZEMsU0FBWXhCLEVBQUt5QiwrQkFRekNwRCxZQUFZQyxVQUFVbUQsc0JBQXdCLFNBQVNDLEdBQ25ELElBQUlDLEVBQWdCNUMsRUFBRSxtQkFDbEI2QyxFQUFjN0MsRUFBRSxpQkFDaEI4QyxFQUFpQjlDLEVBQUUsbUJBR25CUyxFQUZTLG9DQUNFa0MsRUFBYyxJQUU3QkMsRUFBY0csT0FDZEYsRUFBWUcsSUFBSSxDQUFDQyxNQUFTLElBQzFCSCxFQUFlL0IsSUFBSU4sSUFHdkJuQixZQUFZQyxVQUFVaUQsbUJBQXFCLFNBQVNELEdBQ2hEOUMsT0FBT3lELFdBQVdDLFVBQVVaLEVBQU1hLFNBQ2xDQyxRQUFRQyxJQUFJZixFQUFNYSxVQUd0QjlELFlBQVlDLFVBQVUrQyxzQkFBd0IsU0FBU0ssR0FDbkQsSUFDSVksRUFEUVosRUFBU2EsTUFDREQsUUFDQXZELEVBQUUsbUJBQ1J5RCxPQUNkLElBQUlaLEVBQWM3QyxFQUFFLGlCQUNwQjZDLEVBQVlHLElBQUksQ0FBQ0MsTUFBU00sRUFBUUcsUUFBUSxHQUFLLE1BQy9DYixFQUFZYyxLQUFLSixFQUFRRyxRQUFRLEdBQUssTUFHMUNwRSxZQUFZQyxVQUFVcUUsa0JBQW9CLFdBQ3RDLElBQ0lDLEVBQVk3RCxFQUFFLGVBQ2xCNkQsRUFBVUMsTUFBTSxTQUFVQyxHQUN0QkEsRUFBTUMsaUJBQ04sSUFBSUMsRUFBUWpFLEVBQUUsdUJBQXVCZSxNQUNqQ21ELEVBQVdsRSxFQUFFLDJCQUEyQmUsTUFDeENvRCxFQUFPbkUsRUFBRSxzQkFBc0JlLE1BQy9CcUQsRUFBWXBFLEVBQUUsMkJBQTJCZSxNQUN6Q3NELEVBQVU1RSxPQUFPQyxHQUFHNEUsYUFDcEJDLEVBQUtWLEVBQVVXLEtBQUssZ0JBQ3BCL0QsRUFBTSxHQUVOQSxFQURBOEQsRUFDTSxrQkFFQSxnQkFFVmhFLFFBQVFDLEtBQUssQ0FDVEMsSUFBT0EsRUFDUEMsS0FBUSxDQUNKdUQsTUFBU0EsRUFDVEMsU0FBWUEsRUFDWkMsS0FBUUEsRUFDUkMsVUFBYUEsRUFDYkMsUUFBV0EsRUFDWEUsR0FBTUEsR0FFVjFELFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxNQUNiMkQsU0FBU0MsYUFBYSxVQUFXLFdBQzdCakYsT0FBT2tGLFNBQVNDLGlCQVF4Q3RGLFlBQVlDLFVBQVVzRixJQUFNLFdBQ3hCLElBQUk1RCxFQUFPZixLQUNYZSxFQUFLRCx5QkFDTEMsRUFBS3pCLGNBQ0x5QixFQUFLMkMsb0JBQ0wzQyxFQUFLbEIsVUFHVEMsRUFBRSxZQUNnQixJQUFJVixhQUNWdUYiLCJmaWxlIjoicHVibGlzaF9uZXdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFB1Ymxpc2hOZXdzKCkge1xyXG5cclxufVxyXG5cclxuUHVibGlzaE5ld3MucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJywge1xyXG4gICAgICAgICdpbml0aWFsRnJhbWVIZWlnaHQnOiA0MDAsXHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJ1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5QdWJsaXNoTmV3cy5wcm90b3R5cGUuY2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0aHVtYm5haWxCdG4gPSAkKCcjdGh1bWJuYWlsX2J0bicpO1xyXG4gICAgdGh1bWJuYWlsQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy91cGxvYWRfZmlsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbEZvcm0gPSAkKCcjdGh1bWJuYWlsLWZvcm0nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxGb3JtLnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5QdWJsaXNoTmV3cy5wcm90b3R5cGUubGlzdGVuUWluaXVVcGxvYWRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdGh1bWJuYWlsQnRuID0gJCgnI3RodW1ibmFpbF9idG4nKTtcclxuICAgIHRodW1ibmFpbEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9xaW5pdXRva2VuLycsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAnLicgKyBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogWydpbWFnZS9wbmcnLCAnaW1hZ2UvanBlZycsICdpbWFnZS9naWYnXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ2RuRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50OiA2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHFpbml1LnJlZ2lvbi56MlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwga2V5LCB0b2tlbiwgcHV0RXh0cmEsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IHNlbGYuaGFuZGxlclVwbG9hZFByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOiBzZWxmLmhhbmRsZXJVcGxvYWRFcnJvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzogc2VsZi5oYW5kbGVyVXBsb2FkQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuUHVibGlzaE5ld3MucHJvdG90eXBlLmhhbmRsZXJVcGxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbiAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKCcucHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKCcjdGh1bWJuYWlsLWZvcm0nKTtcclxuICAgIHZhciBkb21haW4gPSAnaHR0cDovL3FhN20xY2czdC5ia3QuY2xvdWRkbi5jb20vJztcclxuICAgIHZhciBmaWxlTmFtZSA9IHJlc3BvbnNlWydrZXknXTtcclxuICAgIHZhciB1cmwgPSBkb21haW4gKyBmaWxlTmFtZTtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG4gICAgcHJvZ3Jlc3NCYXIuY3NzKHsnd2lkdGgnOiAwfSk7XHJcbiAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcclxufTtcclxuXHJcblB1Ymxpc2hOZXdzLnByb3RvdHlwZS5oYW5kbGVyVXBsb2FkRXJyb3IgPSBmdW5jdGlvbihlcnJvcil7XHJcbiAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcclxufTtcclxuXHJcblB1Ymxpc2hOZXdzLnByb3RvdHlwZS5oYW5kbGVyVXBsb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICB2YXIgdG90YWwgPSByZXNwb25zZS50b3RhbDtcclxuICAgIHZhciBwZXJjZW50ID0gdG90YWwucGVyY2VudDtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbiAgICBwcm9ncmVzc0dyb3VwLnNob3coKTtcclxuICAgIHZhciBwcm9ncmVzc0JhciA9ICQoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgIHByb2dyZXNzQmFyLmNzcyh7J3dpZHRoJzogcGVyY2VudC50b0ZpeGVkKDApICsgJyUnfSk7XHJcbiAgICBwcm9ncmVzc0Jhci50ZXh0KHBlcmNlbnQudG9GaXhlZCgwKSArICclJyk7XHJcbn07XHJcblxyXG5QdWJsaXNoTmV3cy5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJyNzdWJtaXRfYnRuJyk7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdGl0bGUgPSAkKFwiaW5wdXRbbmFtZT0ndGl0bGUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnkgPSAkKFwic2VsZWN0W25hbWU9J2NhdGVnb3J5J11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGRlc2MgPSAkKFwiaW5wdXRbbmFtZT0nZGVzYyddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0aHVtYm5haWwgPSAkKFwiaW5wdXRbbmFtZT0ndGh1bWJuYWlsJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKTtcclxuICAgICAgICB2YXIgdXJsID0gJyc7XHJcbiAgICAgICAgaWYgKHBrKXtcclxuICAgICAgICAgICAgdXJsID0gJy9jbXMvZWRpdF9uZXdzLydcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3B1Ymxpc2gvJ1xyXG4gICAgICAgIH1cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAnZGVzYyc6IGRlc2MsXHJcbiAgICAgICAgICAgICAgICAndGh1bWJuYWlsJzogdGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKCfmlrDpl7vlj5HluIPmiJDlip/vvIEnLCBmdW5jdGlvbiBmKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcblB1Ymxpc2hOZXdzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblFpbml1VXBsb2FkRXZlbnQoKTtcclxuICAgIHNlbGYuaW5pdFVFZGl0b3IoKTtcclxuICAgIHNlbGYubGlzdGVuU3VibWl0RXZlbnQoKTtcclxuICAgIHNlbGYuY2hhbmdlKCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwdWJsaXNoID0gbmV3IFB1Ymxpc2hOZXdzKCk7XHJcbiAgICBwdWJsaXNoLnJ1bigpO1xyXG59KTsiXX0=
